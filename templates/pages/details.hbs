<div
  class="symbol-details flex-grow-1 w-100"
  data-symbol-details="1"
  data-chart-init="0"
  data-default-res="5"
  data-symbol="{{symbol}}"
>
  <div class="container-fluid">
    <div class="row g-3">
      <!-- LEFT: chart -->
      <div class="col-12 col-lg-8">
        <div class="card details-card text-light">
          <div class="card-body">
            <div class="d-flex align-items-center justify-content-between mb-2">
              <h2 class="m-0">{{symbol}}</h2>

              <div class="d-flex align-items-center gap-2">
                <span>Interval:</span>
                <select id="res" class="form-select form-select-sm" style="width: 90px">
                  <option value="1">1m</option>
                  <option value="5" selected>5m</option>
                  <option value="15">15m</option>
                  <option value="30">30m</option>
                  <option value="60">1h</option>
                </select>
              </div>
            </div>

            <div id="chart"></div>
          </div>
        </div>
      </div>

      <!-- RIGHT: sidebar -->
      <div class="col-12 col-lg-4">
        <!-- Price alert -->
        <div class="card details-card text-light mb-3">
          <div class="card-body">
            <h5 class="card-title">Price alert</h5>

            <label class="form-label">Target price</label>
            <input
              id="alertPrice"
              name="targetPrice"
              class="form-control form-control-sm"
              type="number"
              step="0.01"
              min="0.01"
            />

            <label class="form-label mt-2">Condition</label>
            <select
              id="alertCondition"
              name="condition"
              class="form-select form-select-sm"
            >
              <option value="above">Above</option>
              <option value="below">Below</option>
            </select>

            <button
              class="btn btn-primary btn-sm mt-3 w-100"
              hx-post="/alerts/{{symbol}}"
              hx-include="#alertPrice,#alertCondition"
              hx-target="#alertsMsg"
              hx-swap="innerHTML"
            >
              Create alert
            </button>

            <div id="alertsMsg" class="mt-2 small"></div>

            <div
              id="alertsList"
              class="mt-3"
              hx-get="/alerts/{{symbol}}/list"
              hx-trigger="load, alertsUpdated from:body, every 10s"
              hx-swap="innerHTML"
            ></div>
          </div>
        </div>

        <!-- Paper trading -->
        <div class="card bg-dark text-light border-secondary mt-3">
          <div class="card-body">
            <h5 class="card-title">Paper trading</h5>

            <label class="form-label">Buy quantity</label>
            <input
              id="buyQty"
              name="qty"
              class="form-control form-control-sm"
              type="number"
              step="1"
              min="1"
            />

            <button
              class="btn btn-success btn-sm mt-3 w-100"
              hx-post="/trade/{{symbol}}/buy"
              hx-include="#buyQty"
              hx-target="#tradeMsg"
              hx-swap="innerHTML"
            >
              Buy
            </button>

            <label class="form-label mt-3">Sell quantity</label>
            <input
              id="sellQty"
              name="qty"
              class="form-control form-control-sm"
              type="number"
              step="1"
              min="1"
            />

            <button
              class="btn btn-danger btn-sm mt-3 w-100"
              hx-post="/trade/{{symbol}}/sell"
              hx-include="#sellQty"
              hx-target="#tradeMsg"
              hx-swap="innerHTML"
            >
              Sell
            </button>

            <div id="tradeMsg" class="mt-2 small"></div>

            <hr class="border-secondary my-3" />

            <div
              id="positionPanel"
              hx-get="/positions/{{symbol}}"
              hx-trigger="load, positionUpdated from:body"
              hx-swap="innerHTML"
            ></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
